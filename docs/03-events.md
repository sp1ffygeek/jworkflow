### Events

A workflow can also wait for an external event before proceeding.  In the following example, the workflow will wait for an event called *"myEvent"* with a key of *0*.  Once an external source has fired this event, the workflow will wake up and continue processing, passing the data generated by the event onto the next step.

```java
public void build(WorkflowBuilder<MyData> builder) {    
    builder
        .startsWith(Hello.class)
        .waitFor("myEvent", x -> "0")
            .output((step, data) -> data.value1 = step.eventData)
        .then(DisplayAnswer.class)
            .input((step, data) -> step.answer = data.value1);
}
...
//External events are published via the host
//All workflows that have subscribed to myEvent 0, will be passed "hello"
host.publishEvent("myEvent", "0", "hello");
```

#### Effective Date

You can also specify an effective date when waiting for events, which allows you to respond to events that may have already occurred in the past, or only ones that occur after the effective date.

#### JSON syntax
```json
{
    "id": "MyWaitStep",
    "stepType": "net.jworkflow.primitives.WaitFor",
    "nextStepId": "...",
    "cancelCondition": "...",
    "inputs": {
        "eventName": "\"Event1\"",
        "eventKey": "\"Key1\"",
        "effectiveDate": "new Date()"
    }
}
```